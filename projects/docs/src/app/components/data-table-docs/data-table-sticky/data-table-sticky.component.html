<section class="mb-16">
    <h2 class="text-2xl font-bold mb-6 flex items-center">
        Sticky Header
    </h2>
    <p class="mb-6 text-muted-foreground">
        Enable sticky header by setting the <code class="text-xs bg-muted p-1 rounded">stickyHeader</code> input to
        true. Ensure the container has a constrained height.
    </p>

    <div class="space-y-4">
        <div class="flex flex-col md:flex-row gap-4 items-center">
            <div class="w-full md:w-1/4">
                <tolle-segment [items]="viewOptions" [(ngModel)]="tab" />
            </div>
            <div class="w-full md:w-1/3 flex items-center gap-2">
                <span class="text-xs text-muted-foreground whitespace-nowrap font-medium">Max Height:</span>
                <tolle-segment [items]="heightOptions" [(ngModel)]="selectedHeight" />
            </div>
        </div>

        @if (tab === 'preview') {
        <div class="p-4 rounded-lg bg-background flex flex-col gap-4 justify-center items-center h-[500px] border">
            <div class="w-full h-full overflow-hidden">
                <app-data-table-sticky [maxHeight]="selectedHeight" class="w-full h-full" />
            </div>
        </div>
        }
        @if (tab === 'code') {
        <div class="w-full rounded-xl bg-neutral-900 border border-neutral-800 overflow-hidden">
            <div class="w-full md:w-1/4 p-2">
                <tolle-segment [items]="codeViewOptions" [(ngModel)]="codeTab" />
            </div>
            <!-- Header -->
            @if (codeTab === 'html') {
            <div class="flex items-center justify-between px-4 py-2 border-b border-neutral-800">
                <div class="flex items-center gap-2 text-neutral-300 text-sm font-medium">
                    <span class="w-3 h-3 rounded-full bg-green-600"></span>
                    <span class="w-3 h-3 rounded-full bg-yellow-500"></span>
                    <span class="w-3 h-3 rounded-full bg-red-600"></span>
                </div>
                <!-- Copy icon -->
                @if (htmlCode | async; as code) {
                <div>
                    <button (click)="baseService.copyTo(code)"
                        class="text-neutral-400 hover:text-neutral-200 transition" aria-label="Copy">
                        <i class="ri-file-copy-line"></i>
                    </button>
                </div>
                }
            </div>
            <!-- Body -->
            <div class="relative group rounded-md overflow-hidden h-auto">
                <app-base-editor [code]="(htmlCode | async) ?? ''" language="html" />
            </div>
            }
            @if (codeTab === 'typescript') {
            <div class="flex items-center justify-between px-4 py-2 border-b border-neutral-800">
                <div class="flex items-center gap-2 text-neutral-300 text-sm font-medium">
                    <span class="w-3 h-3 rounded-full bg-green-600"></span>
                    <span class="w-3 h-3 rounded-full bg-yellow-500"></span>
                    <span class="w-3 h-3 rounded-full bg-red-600"></span>
                </div>
                <!-- Copy icon -->
                @if (tsCode | async; as code) {
                <div>
                    <button (click)="baseService.copyTo(code)"
                        class="text-neutral-400 hover:text-neutral-200 transition" aria-label="Copy">
                        <i class="ri-file-copy-line"></i>
                    </button>
                </div>
                }
            </div>
            <!-- Body -->
            <div class="relative group rounded-md overflow-hidden h-auto">
                <app-base-editor [code]="(tsCode | async) ?? ''" language="typescript" />
            </div>
            }
        </div>
        }
    </div>
</section>